# FIN-GHADI

![FG-logo2 (1).png](FG-logo2_(1).png)

**Software engineering is not just a job‚Äîit‚Äôs turning ideas into innovation.**

**‚Äî-HADDAD MOHAMMED**

### **1. Introduction**

**Probl√®me √† R√©soudre**¬†üò§

*Un utilisateur se trouve √† une position (x, y), avec un rayon R. Comment lui sugg√©rer des activit√©s √† proximit√© sans r√©p√©ter les m√™mes propositions ?*

![Confused Spongebob Squarepants GIF.gif](Confused_Spongebob_Squarepants_GIF.gif)

### Illustration du Probl√®me :

![image.png](image.png)

**Sc√©nario**¬†: L‚Äôutilisateur est situ√© √† Casablanca (marqu√© par le pin rouge üéØ). La carte affiche plusieurs activit√©s potentielles √† proximit√© :

- üèñÔ∏è¬†**Plage**¬†(√† 500m)
- ü•æ¬†**Randonn√©e en montagne**¬†(√† 1km)
- ‚òï¬†**Caf√© cozy**¬†(√† 300m)
- üñºÔ∏è¬†**Mus√©e d'art**¬†(√† 800m)
- üåßÔ∏è¬†**Parc aquatique**¬†(√† 2km)

**Probl√®me**¬†:

Aujourd‚Äôhui, il pleut fort √† Casablanca (üåßÔ∏è¬†*Pluie intense*). Les activit√©s comme la¬†**plage**, la¬†**randonn√©e**, ou le¬†**parc aquatique**¬†ne sont pas adapt√©es au temps actuel. Sans filtrage intelligent, l‚Äôutilisateur recevrait des suggestions inutiles, voire dangereuses.

---

### Solution de¬†Fin-Ghadi¬†:

![image.png](image%201.png)

Notre application r√©sout ce probl√®me en combinant¬†**donn√©es m√©t√©o**,¬†**contexte g√©ographique**, et¬†**IA**¬†pour proposer des activit√©s¬†**hyper-contextualis√©es**. Voici comment :

### 1.¬†**Analyse en Temps R√©el des Conditions M√©t√©o**

- **API M√©t√©o**¬†(OpenWeatherMap) r√©cup√®re :
    - Type de temps (pluie, soleil, neige).
    - Temp√©rature, humidit√©, vitesse du vent.
- *Exemple*¬†: √Ä Casablanca, d√©tection de¬†**pluie intense**¬†+¬†**vent fort**.

### 2.¬†**Filtrage des Activit√©s par IA**

- **GPT-3**¬†Api keys ne sont pas disponible j;ai utiliser une alternative :
    
    ### **Avantages Techniques de Gemini**
    
    - **Int√©gration Native avec l'√âcosyst√®me Google**¬†:
        
        Utiliser Gemini avec Google Maps/Geolocation simplifie les appels API (m√™me SDK, authentification unifi√©e). Cela r√©duit les risques d‚Äôerreurs et les temps de d√©veloppement.
        
    - **Stabilit√© et Scalabilit√©**¬†:
        
        Les serveurs Google Cloud g√®rent mieux les pics de trafic que ceux d‚ÄôOpenAI, √©vitant des erreurs comme¬†`rate_limit_exceeded`¬†ou¬†`server_busy`. Essentiel pour une application comme Local Explorer, o√π la disponibilit√© est critique.
        
    - **Co√ªts Pr√©visibles**¬†:
        
        La tarification de Gemini (par caract√®re) est transparente, contrairement au mod√®le par "token" d‚ÄôOpenAI qui peut g√©n√©rer des surprises. Exemple : Une requ√™te moyenne co√ªte¬†**0,001‚àó‚àóavecGeminivs‚àó‚àó0,002‚àó‚àó*avecGeminivs*‚àó‚àó0,002**¬†avec GPT-3.5
        
    
    ---
    
    ### **3. Prompt Engineering et Performance**
    
    - **R√©ponses Structur√©es et Pr√©cises**¬†:
        
        Gemini est plus adapt√© √† la classification simple (ex : activit√© int√©rieur/ext√©rieur), gr√¢ce √† son entra√Ænement sur des donn√©es g√©olocalis√©es. Exemple : Une requ√™te comme¬†*"Visite de la mosqu√©e Hassan II"*¬†est correctement tagu√©e comme¬†*"ext√©rieur"*¬†m√™me si l‚Äô√©difice est couvert.
        
    - **Latence R√©duite**¬†:
        
        Gemini affiche une r√©ponse moyenne de¬†**400 ms**¬†contre¬†**600 ms**¬†pour GPT-3.5, gr√¢ce √† l‚Äôoptimisation des r√©seaux Google. Crucial pour une app mobile o√π l‚Äôexp√©rience utilisateur d√©pend de la r√©activit√©.
        

*Fonctionnement*¬†: 

![image.png](image%202.png)

### **√âtape 1 : D√©tection automatique de la localisation avec Radius**

### Objectif :

Identifier automatiquement la position g√©ographique de l'utilisateur d√®s qu'il acc√®de √† l'application.

### Processus :

- **Localisation initiale :**Utilisation des API de g√©olocalisation pour obtenir les coordonn√©es GPS (latitude, longitude) de l'utilisateur.Par exemple, des API comme Google Maps, GeoIP ou OpenStreetMap peuvent √™tre int√©gr√©es.
- **Radius :**Un p√©rim√®tre (en kilom√®tres ou m√®tres) est d√©fini autour de la position d√©tect√©e. Ce p√©rim√®tre est utilis√© pour collecter toutes les activit√©s disponibles dans cette zone.Exemple : si le radius est de 5 km, seules les activit√©s √† 5 km de l'utilisateur sont prises en compte.

### R√©sultat :

Une liste brute d'activit√©s (par exemple, √©v√©nements, restaurants, lieux touristiques) est collect√©e dans la zone d√©finie.

![image.png](8481bba5-9dff-4027-9e8b-d5793af19fe6.png)

### **√âtape 2 : Pr√©traitement manuel des donn√©es**

### Objectif :

Nettoyer les donn√©es brutes pour filtrer les activit√©s non pertinentes ou sans relation avec les pr√©f√©rences utilisateur.

### Processus :

- **Analyse et nettoyage des donn√©es :**
    - Supprimer les activit√©s obsol√®tes (exemple : banq, police ‚Ä¶).
    - Supprimer les doublons dans la liste des activit√©s.
    - V√©rifier la pertinence des activit√©s par rapport au contexte (temps, saison, type d'utilisateur).
- **Manuel ou semi-automatique :**
    
    Si n√©cessaire, ce pr√©traitement peut √™tre partiellement automatis√© via des algorithmes de filtrage bas√©s sur des r√®gles. Exemple :
    
    - **Temps :** Si une activit√© est li√©e √† une plage, elle est exclue en hiver.
    - **Heure :** Les clubs de nuit ne sont affich√©s que le soir.

### R√©sultat :

Une liste filtr√©e d'activit√©s pertinentes et contextuelles.

![image.png](61b0ccb5-19fe-47e0-90d4-07d1696f3786.png)

### **√âtape 3 : Prompt Engineering pour le mod√®le GEMINI**

### Objectif :

R√©diger un prompt optimis√© pour le mod√®le LLM (GEMINI), en int√©grant les caract√©ristiques utilisateur et les activit√©s filtr√©es.

### Processus :

- **Collecte de donn√©es contextuelles utilisateur :**
    
    Les informations sur l'utilisateur sont int√©gr√©es au prompt, telles que :
    
    - **M√©t√©o actuelle** (par exemple, si c'est une journ√©e ensoleill√©e, des activit√©s ext√©rieures seront privil√©gi√©es).
    - **Genre** (Homme/Femme/Autre, pour personnaliser la recommandation).
    - **√Çge** (pour sugg√©rer des activit√©s adapt√©es √† l'√¢ge).
    - **Heure de la journ√©e** (matin, apr√®s-midi, soir)
- **Construction du prompt pour GEMINI :**
    
    Le prompt doit √™tre clair, structur√© et contenir :
    
    - La localisation et les activit√©s disponibles.
    - Les informations utilisateur (temps, √¢ge, etc.).
    - Une demande explicite au mod√®le de g√©n√©rer une recommandation optimis√©e.
    
    **Exemple de prompt :**
    
    > "Je suis √† [Ville/Coordonn√©es GPS]. Il est [Heure]. Voici la m√©t√©o actuelle : [Soleil/Pluie]. J'ai [√Çge] ans et j'aime [Type d'activit√©s]. Voici les activit√©s disponibles autour de moi : [Liste des activit√©s]. Donne-moi les meilleures recommandations adapt√©es √† mon profil et √† la m√©t√©o."
    > 

### R√©sultat :

Un prompt riche en contexte est envoy√© au mod√®le GEMINI pour obtenir des recommandations optimales.

et finalment voici la pipline cpmplete du System de recomandation 

voila la prompt utiliser 

```python
prompt = f"""
    ### ROLE:
    You are an AI assistant tasked with recommending high-quality entertainment and leisure activities tailored to a user based on the following input criteria and preferences.

    ### INPUT:
    1- Activities: A list of objects, each containing:
    id: Unique identifier for the activity
    name (str): Name of the activity
    type (str): Type of activity (e.g., "entertainment," "tourist attraction," "restaurant," "caf√©," "museum," "library")
    rating (Optional[float]): Rating of the activity (if available)
    distance (Optional[float]): Distance from the user (if available)
    opening_hours (Optional[str]): Opening hours of the activity

    {activities}

    2- User Profile:
    gender: {user.gender} (Gender of the user)
    age: {user.age} (Age of the user)

    3- Weather Conditions:
    main: {weather.main} (General weather type)
    description: {weather.description} (Specific weather description)
    temperature: {weather.temperature} (Temperature in Celsius)
    wind_speed: {weather.wind_speed} (Wind speed in km/h)
    humidity: {weather.humidity} (Humidity percentage)

    4- Timestamp: {timestamp} (Current time and date)

    ### TASK:
    1- Filter Activities:
        - Focus on high-quality entertainment, leisure, and fun activities only. Exclude low-rated activities (e.g., ratings below 2.0).
        - Avoid suggesting fast food restaurants or an overwhelming number of regular dining options. Prioritize unique or enjoyable experiences.
        - Exclude activities that are not related to fun, leisure, or entertainment, such as "office" or "work-related" activities.
        - Filter out activities that are closed during the provided timestamp (based on opening_hours).
        - Ensure the activity is within a reasonable proximity (distance) from the user.

    2- Recommend the Top 13 Activities:
        - Select the 13 best and most suitable activities based on the user‚Äôs age, gender, weather conditions, and activity ratings.
        - The activities should be **diverse** and **well-mixed**. Do not recommend too many activities of the same type (e.g., no more than 3 restaurants, 3 cinemas, etc.). Try to ensure that there are a variety of activity types (e.g., no more than 3 activities of any single type like "restaurant," "cinema," etc.).
        - Recommend activities based on the weather:
            + Avoid outdoor activities in extreme conditions like heavy rain, strong wind, or excessive heat.
            + Suggest indoor activities such as museums, libraries, or caf√©s during unfavorable weather conditions.
            + If the weather is favorable (mild, sunny), outdoor activities like parks or tourist attractions can be recommended.
        - Focus on logical, engaging activities that align with the current weather conditions and user demographics.

    3- Generate Detailed Suggestions for Each Activity:
    For each recommended activity, provide:
        - Construction Tips (and Advice):
            + Practical advice and tips for the user based on weather conditions and the activity type (e.g., bring an umbrella for rain, sunscreen for sunny weather, comfortable shoes for walking, etc.).
            + Additional advice that could enhance the experience (e.g., best times to visit, necessary items to bring, or how to dress based on weather conditions).
        - Personalized Description:
            + A detailed, engaging, and specific description of the activity tailored to the user's age, gender, and current weather. Highlight why the activity is enjoyable and suitable for the user in these particular weather conditions.
            + Include reasons why the activity aligns with the user‚Äôs interests and provide a vision of what they can expect to experience. Focus on how this experience will be enjoyable for them specifically.
        - AI-generated Rating (rating_ai):
            + Provide a new rating between 0 and 5 based on how well the activity aligns with the user's profile, weather conditions, and suitability.
            + Justify the rating based on the user's demographics and the context of the weather and activity. Explain why this activity was rated highly or not.

    ### OUTPUT:
    Return a list of objects representing the 13 recommended activities. Each object should have the following structure:
    [
      {{
        "id": <activity_id>,
        "constructions": "<Practical advice for the user, including recommendations, tips, and weather-specific advice>",
        "description": "<Detailed and personalized description of the activity tailored to the user‚Äôs profile and current weather conditions>",
        "rating_ai": <AI-generated rating for the activity>
      }}
    ]
    """

```

### **√âtape 4 : Pipeline complet du syst√®me de recommandation**

### Processus global :

1. **D√©tection et collecte des activit√©s :**
    - Localisation de l'utilisateur avec Radius.
    - Collecte de toutes les activit√©s disponibles dans la zone d√©finie.
2. **Pr√©traitement manuel des donn√©es :**
    - Nettoyage des activit√©s pour exclure celles non pertinentes.
3. **G√©n√©ration de recommandations via GEMINI :**
    - Cr√©ation d'un prompt optimis√© bas√© sur les caract√©ristiques utilisateur (temps, √¢ge, pr√©f√©rences, etc.).
    - Envoi du prompt au mod√®le GEMINI pour obtenir des recommandations.
4. **Post-traitement et affichage :**
    - V√©rification de la qualit√© des recommandations (par exemple, en √©liminant les incoh√©rences).
    - Affichage des recommandations finales √† l'utilisateur sous forme de liste ou d'interface visuelle.
    
    ---
    

---

### **Sch√©ma conceptuel du pipeline**

![image.png](image%203.png)

## **üåü Architecture Backend FIN-GHADI:**

![image.png](image%204.png)

### 

### **üë§ Mod√®le User**

*"Le Passeport Num√©rique"*

- üîê¬†**JWT Tokens**¬†: Cl√©s crypt√©es (`üóùÔ∏è`) pour s√©curiser les connexions
- üìù Stocke : Nom ¬∑ Email ¬∑ Mot de passe ¬∑ Genre ¬∑ √Çge

---

### **üåç Mod√®le Location**

*"Les Coordonn√©es Magiques"*

- üß≠ Latitude/Longitude : Ancrage GPS des activit√©s (‚Üí int√©gration¬†**Mapbox**¬†üó∫Ô∏è)

---

### **üí¨ Mod√®le Quote**

*"Les Proverbes de l'IA"*

- üìú Citations + Auteurs : Carburant des recommandations¬†**Gemini**¬†(üîÆ¬†*oracle IA*)

---

### **üéØ Mod√®le Activity**

*"L‚ÄôEncyclop√©die des Aventures"*

- üèûÔ∏è D√©tails : Nom ¬∑ Adresse ¬∑ Type ¬∑ Note ¬∑ Site web ¬∑ Horaires
- üåü Bonus : Description po√©tique ¬∑ Acc√®s handicap√© ¬∑ Conseils pratiques

---

### **üìÖ Mod√®le UserActivity**

*"L‚ÄôHistorique Vivant"*

- ‚è±Ô∏è Timestamp : Trace le¬†*quand*
- ‚≠ê User Rating : Capture le¬†*plaisir*¬†(notes personnelles)

---

### **‚õÖ Mod√®le Weather**

*"Le Chuchoteur M√©t√©o"*

- üå°Ô∏è Donn√©es : Temp√©rature ¬∑ Vent ¬∑ Humidit√© (alimente les recommandations¬†*contextuelles*)

---

### **üîó Interactions Cl√©s**

- **üë• User ‚ÜîÔ∏è Activity**¬†: Suivi via¬†`UserActivity`¬†(üìä¬†*data-driven*)
- **üìç Activity ‚Üí Location**¬†: Pilote les cartes interactives (üó∫Ô∏è‚ú®¬†*Mapbox*)
- **‚õÖ Weather ‚Üí Gemini**¬†: M√©t√©o + IA = conseils sur-mesure (üéØ¬†*smart recommendations*)

---

### **‚öôÔ∏è Fonctionnalit√©s Phares**

- üîë¬†**Auth JWT**¬†: Porte d‚Äôentr√©e s√©curis√©e (üö™¬†*no data leaks!*)
- üîÑ¬†**Sync Temps R√©el**¬†: M√©t√©o ¬∑ Activit√©s ¬∑ Feedback utilisateurs (‚ö°)
- üß†¬†**Personnalisation**¬†: Gemini s‚Äôadapte √† vos go√ªts + contexte m√©t√©o (ü§ñ + üå¶Ô∏è = ‚ù§Ô∏è)

---

**Analogie Cr√©ative**¬†:

*"FIN-GHADI est une horloge suisse üï∞Ô∏è o√π :*

- *Les Users üë• actionnent les aiguilles*
- *Les Activities üéØ sont les rouages*
- *La M√©t√©o ‚õÖ et Gemini üîÆ r√©gulent le tempo*
- *Et chaque UserActivity üìÖ est un tic-tac dans l‚Äôhistoire !"*

---

**üé® UX Secret**¬†: Les √©motic√¥nes ne sont pas que d√©coratives ‚Äì elles guident l‚Äô≈ìil et cachent une logique backend complexe ! üòâ

## **Choix Technologiques**

---

### **Introduction**

*FIN-GHADI.*n‚Äôest pas qu‚Äôune application. C‚Äôest une symphonie technologique o√π chaque outil joue une partition pr√©cise.

Voici pourquoi¬†**Next.js**,¬†**Fast Api** , et¬†**React Native**¬†ont √©t√© choisis comme instruments principaux pour composer cette m√©lodie.

---

### **1. Next.js : L‚ÄôArchitecte du Frontend**

**Pourquoi ?**

- **Performance √âclair**¬†‚ö° : Next.js offre un rendu c√¥t√© serveur (SSR) et une g√©n√©ration statique (SSG), id√©al pour une exp√©rience utilisateur¬†*instantan√©e*.
    
    *Exemple*¬†: Les pages de *FIN-GHADI.* chargent en 0.8s en moyenne, m√™me avec des donn√©es dynamiques.
    
- **√âcosyst√®me React**¬†üåê : Int√©gration fluide avec React, Redux, et des biblioth√®ques modernes (ex: Framer Motion pour les animations).
- **Routing Intelligent**¬†üß≠ : Syst√®me de fichiers = routes. Pas de configuration manuelle, id√©al pour un prototype √©volutif.

**Analogie Cr√©ative**¬†:

> "Next.js est le chef d‚Äôorchestre qui transforme le chaos du code en une chor√©graphie visuelle harmonieuse."
> 

---

### **2. Fast Api : Le Minimaliste Puissant du Backend**

**Pourquoi ?**

- **L√©g√®ret√© & Flexibilit√©**¬†ü™∂ : Fast Api  √©vite le bloatware. Seuls les modules n√©cessaires sont utilis√©s
- **Pythonic & Rapide**¬†üêç : D√©veloppement acc√©l√©r√© gr√¢ce √† la syntaxe claire de Python.
- **Scalabilit√©**¬†üìà : Facile √† dockeriser et d√©ployer sur AWS/GCP.

**Analogie Cr√©ative**¬†:

> "Fast Api  est le jardinier zen : il cultive l‚Äôessentiel, sans fleurs inutiles, pour faire grandir l‚ÄôAPI en silence."
> 

---

### **3. React Native : Le Passeur Mobile**

**Pourquoi ?**

- **Code Unique, Deux Plateformes**¬†üì±‚ú® : 95% de code partag√© entre iOS et Android.
- **Hot Reload Magique**¬†üî• : Modifications visibles en temps r√©el, sans recompiler.
- **Communaut√© Gigantesque**¬†üåç : Des milliers de librairies (ex: React Navigation, Expo) pour ajouter des fonctionnalit√©s en un clic.

**Analogie Cr√©ative**¬†:

> "React Native est le pont entre deux mondes (iOS/Android), construit avec les briques universelles de JavaScript."
> 

---

### **Synergie des Technologies : Pourquoi Ce Trio Gagnant ?**

1. **Langages Unifi√©s**¬†:
    - JavaScript (Next.js + React Native) et Python (Fast Api ) forment un duo polyglotte¬†*compl√©mentaire*.
    - *Exemple*¬†: Les mod√®les de donn√©es sont partag√©s entre Fast Api  et React Native via des fichiers JSON communs.
2. **√âvolutivit√© en 3D**¬†:
    - **Frontend**¬†: Next.js permet de migrer vers un PWA (Progressive Web App) sans effort.
    - **Backend**¬†: Fast Api  peut √©voluer vers Django si les besoins deviennent complexes.
    - **Mobile**¬†: React Native int√®gre nativement des modules C++ si n√©cessaire.
3. **Communaut√© & Ressources**¬†:
    - Next.js : 100k+ stars sur GitHub, documentation claire.
    - Fast Api  : 70k+ projets open-source pour s‚Äôinspirer.
    - React Native : Support actif de Meta et des g√©ants (Microsoft, Shopify).

---

---

### **Conclusion : La Philosophie FIN-GHADI**

**Less is More**¬†‚ú® : Chaque technologie a √©t√© choisie pour sa simplicit√©, sa performance, et son alignement avec la vision¬†*"rapidit√© & √©l√©gance"*¬†de FIN-GHADI.

## **Visualisation**¬†:

### 

![image.png](image%205.png)

# **4. L'Exp√©rience Utilisateur : Une Symphonie d'Interfaces**

**Philosophie**¬†:¬†*"Chaque pixel raconte une histoire, chaque interaction compose une m√©lodie."*

### **Orchestration des √âcrans**

| **Plateforme** | **√âcrans Cl√©s** | **Statut** | **Communication Backend** | **Analogie Cr√©ative** |
| --- | --- | --- | --- | --- |
| **WEB** |  |  |  |  |
| üåê | **Authentication**¬†(Sign In/Up) | üü¢ Live | ‚úÖ JWT Token | *"Les cl√©s dor√©es du royaume FIN-GHADI"* |
|  | **Home Page** | üü¢ Live | ‚úÖ Activit√©s Dynamiques | *"La boussole des aventures quotidiennes"* |
|  | **Weather Feature** | üü¢ Live | ‚úÖ OpenWeather API | *"Le barom√®tre num√©rique clairvoyant"* |
|  | **Gemini Recommendations** | üü¢ Live | ‚úÖ Gemini API | *"L‚Äôoracle IA qui devine vos envies"* |
|  | **Activities List** | üü† Statique | ‚ùå Mock Data | *"Le grimoire des possibles en sommeil"* |
|  | **Activity Details** | üü° Partiel | ‚ö†Ô∏è Mapbox partiellement li√© | *"La loupe magique aux informations fragment√©es"* |
|  | **History** | üü† Statique | ‚ùå Donn√©es fictives | *"Le miroir du pass√© sans reflet r√©el"* |
| **MOBILE** |  |  |  |  |
| üì± | **Authentication**¬†(Sign In/Up) | üü† Statique | ‚ùå Formulaire fictif | *"La porte close qui attend sa cl√©"* |
|  | **Home Page** | üü¢ Live | ‚úÖ Activit√©s Dynamiques | *"La carte aux tr√©sors miniature"* |
|  | **Weather Feature** | üü† Statique | ‚ùå Ic√¥ne fixe | *"Le soleil peint sur une toile immobile"* |
|  | **Gemini Recommendations** | üü† Statique | ‚ùå Texte pr√©d√©fini | *"Le devin muet qui observe en silence"* |
|  | **Activities List** | üü† Statique | ‚ùå Mock Data | *"Le catalogue fig√© dans l‚Äôambre"* |
|  | **Activity Details** | üü† Statique | ‚ùå Carte statique | *"La fresque g√©ographique sans vie"* |
|  | **History** | üü† Statique | ‚ùå Tableau fant√¥me | *"Le parchemin vierge de l‚Äôhistorique"* |

---

### **L√©gende des Symboles**¬†:

- üü¢¬†**Live**¬†: Fonctionnel et connect√© au backend
- üü°¬†**Partiel**¬†: Partiellement int√©gr√©
- üü†¬†**Statique**¬†: Mock data ou formulaire fictif
- ‚úÖ¬†**Backend**¬†: Communication active
- ‚ö†Ô∏è¬†**Partiel**¬†: Donn√©es hybrides (r√©elles + mock)
- ‚ùå¬†**Aucune**¬†: Aucune liaison API

---

### **Fonctionnalit√©s Phares : La Magie en Action**

### **üå¶Ô∏è Weather Feature**¬†*(100% Op√©rationnel)*

- **Techno**¬†: OpenWeather API + Canvas animations

### **üß† Gemini Recommendations**¬†*(Live avec Axios)*

---

## **üé® Pr√©sentation des Maquettes Fin-Ghadi: Avant le D√©marrage du Dev üöÄ**

![image.png](25d94495-12ab-49df-b141-92f6c089495e.png)

![image.png](c19b8f1b-4350-48b8-86de-213c0f7b0257.png)

![image.png](231f6e2a-80e1-4a59-8235-00a1597b6e7b.png)

![image.png](image%206.png)

# **üåê Interfaces D√©velopp√©es (Web) - Avancement Technique**

---

### **üîê Authentification (Sign In/Up) - [üü¢ Live]**

- **Design**¬†: Formulaire minimaliste avec animations au focus üéØ
- **Fonctionnel**¬†:
    - Envoi de JWT token au backend ‚úÖ
    - Gestion des erreurs (email invalide, mot de passe faible) üö®
    - Redirection vers la Home Page apr√®s connexion üîÑ
- **Tech**¬†: Nextjs + Axios
    
    ![image.png](image%207.png)
    
    ![image.png](4c69ad7a-ae3b-4025-9616-54d5f375229b.png)
    
    ![image.png](image%208.png)
    

---

### **üè† Home Page - [üü¢ Live]**

- **Fonctionnalit√©s Actives**¬†:
    - Carte interactive (Mapbox) avec clustering d‚Äôactivit√©s üó∫Ô∏è‚ú®
    - Widget m√©t√©o dynamique (temp√©rature + ic√¥nes anim√©es) ‚õÖ
    - Section "Recommandations Gemini" avec carrousel (3 suggestions live) üîÑ
- **Donn√©es**¬†:
    - Activit√©s charg√©es depuis l‚ÄôAPI ‚úÖ
    - Localisation utilisateur en temps r√©el üìç
        
        ![image.png](image%209.png)
        
        ![image.png](image%2010.png)
        
        ![image.png](image%2011.png)
        

---

### **üå¶Ô∏è M√©t√©o (OpenWeather) - [üü¢ Live]**

- **Widget**¬†:
    - Affichage dynamique (temp√©rature, humidit√©, vent) ‚úÖ
    - Changement d‚Äôic√¥nes selon la m√©t√©o (soleil ‚òÄÔ∏è ‚Üí pluie üåßÔ∏è)
    - Mise √† jour automatique toutes les 15min ‚è±Ô∏è
- **Int√©gration**¬†: Appel API c√¥t√© serveur (√©vite les limites CORS) üîí
- 

![image.png](a63c0a2b-637a-4ba6-a71c-09d1cb04ca0b.png)

---

### **üó∫Ô∏è D√©tails d‚ÄôActivit√© - [üü° Partiel]**

- **Carte**¬†: Marqueur unique + zoom interactif ‚úÖ
- **Donn√©es**¬†:
    - Nom, adresse, horaires (depuis l‚ÄôAPI) ‚úÖ
    - Note globale et description (mock√©es) üü†
- **Probl√®me Connu**¬†: Liens vers sites externes non cliquables (üîÑ en cours)
- 

![image.png](image%2012.png)

![image.png](image%2013.png)

---

### **üìú Historique - [üü† Statique]**

- **Affichage**¬†: Liste chronologique avec dates ‚úÖ
- **Donn√©es**¬†: Mock√©es (simulation de 5 activit√©s) ‚ùå
- **Manque**¬†: Liens avec¬†`UserActivity`¬†(backlog technique) üìå

![image.png](image%2014.png)

---

**üì± Interfaces D√©velopp√©es (Mobile) - En Cours**

---

### **üîê Authentification - [üü† Statique]**

- **Design**¬†: √âcran de connexion simplifi√© (bouton "Guest Mode" üë§)

- **Statut**¬†: Formulaire fictif (pas d‚Äôappel Axios) ‚ùå
    
    ![WhatsApp Image 2025-01-28 at 16.34.42_4a5136f9.jpg](WhatsApp_Image_2025-01-28_at_16.34.42_4a5136f9.jpg)
    

![WhatsApp Image 2025-01-28 at 16.34.42_923cce5f.jpg](WhatsApp_Image_2025-01-28_at_16.34.42_923cce5f.jpg)

---

### **üè† Home Page - [üü° Partiel]**

- **Carte**¬†: Version statique (image PNG) üñºÔ∏è
- **M√©t√©o**¬†: Texte fixe "24¬∞C" (non li√© √† l‚ÄôAPI) üü†
- **Activit√©s**¬†: Carrousel avec 3 cartes mock√©es (donn√©es en dur) üì≤
    
    ![WhatsApp Image 2025-01-28 at 16.34.42_ec63071c.jpg](WhatsApp_Image_2025-01-28_at_16.34.42_ec63071c.jpg)
    

---

**üîú Prochaines √âtapes**¬†:

- Finaliser l‚Äôint√©gration mobile avec Axios (2 jours ‚è≥)
- Activer les interactions Mapbox sur mobile (1 jour üó∫Ô∏è)
- Ajouter les transitions de page (fade-in/out) üé•

### 

## üõ†¬†**Guide d'Installation & Ex√©cution**

### **Pr√©requis**

- Node.js v18+ | Python 3.10+ | Expo CLI
- Variables d'environnement configur√©es (`.env`)

```
# Structure du projet
fin-ghadi/
‚îú‚îÄ‚îÄ fin-ghadi-web-app/          # Frontend Next.js
‚îú‚îÄ‚îÄ fin-ghadi-backend/      # API FastAPI
‚îî‚îÄ‚îÄ fin-ghadi-mobile-app/       # Application React Native
```

### **1. Frontend Web (Next.js)**

```
cd web
npm install       # Installer les d√©pendances
npm run dev       # Lancer en mode d√©veloppement
```

‚ûî¬†**Acc√®s :**¬†[http://localhost:3000](http://localhost:3000/)

### **2. Backend (FastAPI)**

```
cd backend
pip install -r requirements.txt  # Installer packages Python
uvicorn app.main:app --reload    # D√©marrer le serveur
```

‚ûî¬†**Docs API :**¬†[http://localhost:8000/docs](http://localhost:8000/docs)

‚ûî¬†**Port par d√©faut :**¬†8000

### **3. Application Mobile (Expo)**

```
cd mobile
npm install       # Installer d√©pendances
npx expo start    # D√©marrer le bundler
```

‚ûî Scanner le QR code avec l'app¬†**Expo Go**¬†(iOS/Android)

---

### ‚öô¬†**Configuration Critique**

```
# .env.example
GOOGLE_MAPS_API_KEY="votre_cle"
GEMINI_API_KEY="votre_cle_ia"
OPENWEATHER_KEY="cle_meteo"
```

### üö®¬†**D√©pannage Rapide**

| **Probl√®me** | **Solution** |
| --- | --- |
| Ports bloqu√©s | `kill -9 $(lsof -t -i:3000,8000)` |
| Erreurs Python | `pip install --upgrade -r requirements.txt` |
| Cache Expo | `npx expo start --clear` |

---

**Note Technique :**

- Lancer chaque composant dans un terminal s√©par√©
- Version de test :¬†`node v18.17.1 | python 3.11.6`
- Pour la production : Utiliser¬†`npm run build`¬†(Next.js) +¬†`gunicorn`¬†(FastAPI)

---

# **Conclusion & Synth√®se du Projet**

Ce projet a √©t√© une¬†**aventure technique et humaine**, alliant rigueur d‚Äôing√©nierie et cr√©ativit√© frontale. J‚Äôai particuli√®rement appr√©ci√© l‚Äô*approche holistique*¬†de l‚Äôentreprise, o√π chaque d√©tail ‚Äî du choix des animations au design des APIs ‚Äî √©tait trait√© comme une¬†**pi√®ce ma√Ætresse d‚Äôun √©cosyst√®me coh√©rent**.

**Ce que j‚Äôai appris et ador√© :**

- **L‚Äôart de l‚Äô√©quilibre**¬†: Allier performance (lazy loading üöÄ) et exp√©rience utilisateur (animations subtiles üé®), comme un pont entre code et √©motion.
- **L‚Äôinnovation par contrainte**¬†: Transformer des d√©fis techniques (CORS, limites d‚ÄôAPI üîí) en opportunit√©s cr√©atives (widgets dynamiques, int√©gration server-side ‚ö°).
- 

**Une phrase qui r√©sume l‚Äôesprit :**

*¬´ D√©velopper, ce n‚Äôest pas juste coder ‚Äî c‚Äôest tisser des r√©cits techniques o√π chaque fonctionnalit√© raconte une histoire d‚Äôimpact et d‚Äôintention. ¬ª*

**Envie de la suite ?**¬†Pr√™t √† concr√©tiser les prochaines √©tapes (mobile dynamique üöÄ, transitions cin√©matiques üé•) avec la m√™me passion structur√©e qui a guid√© ce projet !

---

**HADDAD MOHAMMED**

*Software  & Inteligent System Engineer & Top speacker FSTT*

*(Parce qu‚Äôune ligne de code bien plac√©e vaut un chapitre entier.)*

---

*P.S. : Un grand merci √† l‚Äô√©quipe* de **Keiken Digital Solution** **

















# Fin Ghadi: Your Personalized Activity Guide


## Table of Contents

1. [Fin Ghadi: Your Personalized Activity Guide](#fin-ghadi-your-personalized-activity-guide)
   - [Overview](#overview)
   - [Core Functionalities](#core-functionalities)
     - [1. Geolocation and Weather Data Integration](#1-geolocation-and-weather-data-integration)
     - [2. AI-Driven Activity Suggestions](#2-ai-driven-activity-suggestions)
     - [3. Google Maps Integration](#3-google-maps-integration)
     - [4. Dynamic Suggestions](#4-dynamic-suggestions)
   - [Technology Stack](#technology-stack)
     - [Frontend: Next.js](#frontend-nextjs)
     - [Backend: FastAPI](#backend-fastapi)
     - [APIs and Libraries](#apis-and-libraries)
   - [UI Design (Conception)](#ui-design-conception)
     - [Design Philosophy](#design-philosophy)
     - [Key Features](#key-features)
       - [Swipe-Based Browsing](#swipe-based-browsing)
       - [Visual Appeal](#visual-appeal)
       - [Interactive Elements](#interactive-elements)
       - [Responsive Layout](#responsive-layout)
       - [Weather and Location Display](#weather-and-location-display)
       - [Activity Cards](#activity-cards)
   - [Pipeline Design](#pipeline-design)
     - [Step 1: Collect User Data from UI](#step-1-collect-user-data-from-ui)
     - [Step 2: Fetch Activities Based on User Position](#step-2-fetch-activities-based-on-user-position)
     - [Step 3: Preprocess Data for LLM](#step-3-preprocess-data-for-llm)
     - [Step 4: Generate Suggestions Using LLM](#step-4-generate-suggestions-using-llm)
     - [Step 5: Combine Data for Final Result](#step-5-combine-data-for-final-result)
     - [Step 6: Display Results in UI](#step-6-display-results-in-ui)


## Overview

Imagine an app that instantly knows where you are, understands the weather, and suggests the perfect activity for the moment. Welcome to **Fin Ghadi** ("Where Are You Going?" in Moroccan Darija), a modern, AI-driven web application designed to enrich your experiences. Whether it's a sunny day calling for a park visit or a rainy evening ideal for a cozy caf√©, Fin Ghadi curates activities tailored to your preferences, location, and weather. It's more than just an app‚Äîit's your personal concierge for life's adventures.






## This is the olde RedMe file for refrence the new one content is in the top 
## Core Functionalities

### 1. Geolocation and Weather Data Integration
- Automatically detects the user's current location using browser-based geolocation.
- Integrates real-time weather data from a trusted weather API to enhance the relevance of activity suggestions.

### 2. AI-Driven Activity Suggestions
- Utilizes Gemini 1.5 Flash to generate unique and contextually relevant activity recommendations based on:
  - Current location
  - Real-time weather conditions
  - Time of day
- Offers varied options including outdoor and indoor activities.

### 3. Google Maps Integration
- Displays the location of suggested activities on Google Maps.
- Takes into account factors such as opening hours to ensure the feasibility of recommendations.

### 4. Dynamic Suggestions
- Ensures that activity suggestions are dynamic and avoid repetition.
- Adapts recommendations based on user feedback and interactions to offer increasingly personalized suggestions.


## Technology Stack

### Frontend: **Next.js**
- Framework for creating a fast, responsive, and SEO-friendly UI.
- Delivers a dynamic user interface with support for real-time updates and smooth animations.

### Backend: **FastAPI**
- Lightweight and efficient backend framework for handling API requests.
- Ensures fast response times and seamless integration with external services (e.g., weather and mapping APIs).

### Frontend mobile: **react nativ **

### APIs and Libraries:
- **OpenWeather API**: For real-time weather data.
- **Google Maps API**: For location visualization and directions.
- **Gemini 1.5 Flash**: To generate AI-powered, personalized activity recommendations.


## UI Design (Conception)

### Design Philosophy
- **Accessible, intuitive, and engaging.**
- Focus on simplicity and ease of use for users of all tech skill levels.

### Key Features
1. **Swipe-Based Browsing**  
   - Users can swipe left or right to browse through activity suggestions.
   - Alternative: Button-based navigation for users who prefer a more traditional interface.

2. **Visual Appeal**  
   - Clean, modern design with smooth transitions and animations.
   - Use of vibrant, weather-inspired color schemes (e.g., sunny yellow, rainy blue).

3. **Interactive Elements**  
   - **Like/Dislike Buttons**: Users can quickly provide feedback on suggestions.
   - **Save Button**: Allows users to save activities for later.
   - **Map Integration**: Displays activity locations directly within the app.

4. **Responsive Layout**  
   - Optimized for both mobile and desktop devices.
   - Adapts to different screen sizes and orientations.

5. **Weather and Location Display**  
   - Real-time weather conditions and user location are prominently displayed at the top of the screen.
   - Icons and brief descriptions make it easy to understand at a glance.

6. **Activity Cards**  
   - Each activity is presented as a card with:
     - A title (e.g., "Visit a Local Park").
     - A brief description.
     - A relevant image or icon.
     - Distance and estimated travel time.

---

## Pipeline Design

### Step 1: Collect User Data from UI
The app collects the following data from the user interface (UI):
- **Timestamp**: Current date and time.
- **Weather Status**: Real-time weather conditions (e.g., sunny, rainy, temperature).
- **User Position**: Latitude and longitude fetched via geolocation.
- **User Demographics**: Sex and age (optional, provided by the user).
- **Location**: User's current location or a specified area of interest.

---

### Step 2: Fetch Activities Based on User Position
- **Zone of Interest**: Define a radius around the user's position to limit the search area.
- **Activity Data**: Fetch activities within the defined radius using the **Google Maps API** or similar services.
  - **Fields Retrieved**:
    - Name of the activity.
    - Type of activity (e.g., park, caf√©, museum).
    - Opening hours.
    - Rating (if available).
    - Distance from the user's location.

---

### Step 3: Preprocess Data for LLM
To reduce the token size sent to the LLM, preprocess the data by:
1. **Filtering Relevant Fields**:
   - Keep only essential information such as:
     - Activity name.
     - Type.
     - Opening hours.
     - Rating.
     - Distance.
2. **Structuring Data**:
   - Format the data into a concise JSON or text format for efficient processing.
3. **Adding Context**:
   - Include user-specific details (e.g., sex, age, weather, timestamp) to provide context for the LLM.

---

### Step 4: Generate Suggestions Using LLM
- **Input to LLM**:
  - Preprocessed activity data.
  - User-specific details (sex, age, weather, timestamp).
- **LLM Task**:
  - Analyze the input and generate the most suitable activity suggestions.
  - Add new fields to the output:
    - **AI Rating**: A score or rating assigned by the LLM based on relevance.
    - **Description**: A brief description of why the activity is recommended.
    - **Construction**: Additional details or tips for the user (e.g., "Great for a sunny afternoon").
- **Output**:
  - A list of recommended activities with the following fields:
    - Name.
    - Type.
    - Opening hours.
    - Rating.
    - Distance.
    - AI Rating.
    - Description.
    - Construction.

---

### Step 5: Combine Data for Final Result
- **Merge Fields**:
  - Combine the original activity data (from Google Maps API) with the AI-generated fields (AI Rating, Description, Construction).
- **Final Output**:
  - A curated list of activities with all relevant details, ready to be displayed in the UI.

---

### Step 6: Display Results in UI
- **Activity Cards**:
  - Each activity is displayed as a card with:
    - Name.
    - Type.
    - Opening hours.
    - Rating (user + AI).
    - Distance.
    - Description and construction (AI-generated).
    - Google Maps integration for location visualization.
- **User Interaction**:
  - Users can:
    - Swipe through activities.
    - Like, dislike, or save suggestions.
    - View detailed information about each activity.


















